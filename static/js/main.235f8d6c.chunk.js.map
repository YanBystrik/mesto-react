{"version":3,"sources":["components/Footer.js","images/header_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","src","logo","alt","currentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","link","name","length","Main","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","cards","CurrentUserContext","avatar","about","map","ImagePopup","onPopupClick","onClose","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Error","status","fetch","then","_checkResponse","data","method","body","JSON","stringify","cardId","authorization","PopupWithForm","title","buttonTitle","isOpened","children","onSubmit","onMouseDown","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","App","isProfilePopupOpened","setIsProfilePopupOpened","isCreatePopupOpened","setIsCreatePopupOpened","isAvatarPopupOpened","setIsAvatarPopupOpened","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","handlePopupClick","event","classList","contains","getCards","catch","err","console","error","handleEsc","key","document","addEventListener","removeEventListener","getUserInfo","Provider","likeDelete","newCard","state","c","like","removeCard","filter","updateUserInfo","updateAvatar","updateCards","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"8MASeA,MAPf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACI,mBAAGA,UAAU,eAAb,uCCLG,MAA0B,wCCW1BC,MARf,WACI,OACI,wBAAQD,UAAU,SAAlB,SACI,qBAAKA,UAAU,eAAeE,IAAKC,EAAMC,IAAI,gCCJ1CC,EADYC,IAAMC,gBC+ClBC,MA7Cf,YAA8D,IAA/CC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,aACpCC,EAAcP,IAAMQ,WAAWT,GAGnCU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAEvCC,EAAyB,0BACVH,EAAQ,kBAAoB,0BAI3CI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAErDM,EAAuB,wBACRJ,EAAU,uBAAyB,iBAgBpD,OACI,sBAAKnB,UAAU,UAAf,UACI,wBAAQA,UAAWkB,EAA0BM,KAAK,SAASC,QANnE,WACIb,EAAaH,EAAKQ,QAMd,qBAAKjB,UAAU,iBAAiBE,IAAKO,EAAKiB,KAAMtB,IAAKK,EAAKkB,KAAMF,QAfxE,WACIf,EAAYD,MAeR,sBAAKT,UAAU,gBAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCS,EAAKkB,OACjC,sBAAK3B,UAAU,oBAAf,UACI,wBAAQA,UAAWuB,EAAyBC,KAAK,SAASC,QAf9E,WACId,EAAWF,MAeK,mBAAGT,UAAU,sBAAb,SAAoCS,EAAKW,MAAMQ,mBCSxDC,MA7Cf,YAQI,IAPAC,EAOD,EAPCA,sBACAC,EAMD,EANCA,uBACAC,EAKD,EALCA,oBACAtB,EAID,EAJCA,YACAuB,EAGD,EAHCA,MACAtB,EAED,EAFCA,WACAC,EACD,EADCA,aAEMC,EAAcP,IAAMQ,WAAWoB,GAErC,OACA,qCACI,0BAASlC,UAAU,UAAnB,UACI,sBAAKA,UAAU,mBAAf,UACI,sBAAKA,UAAU,4BAAf,UACI,qBAAKA,UAAU,kBAAkBE,IAAKW,EAAYsB,OAAQ/B,IAAI,yCAC9D,wBAAQJ,UAAU,uBAAuByB,QAASK,OAEtD,sBAAK9B,UAAU,gBAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCa,EAAYc,OAC5C,mBAAG3B,UAAU,oBAAb,SAAkCa,EAAYuB,WAElD,wBAAQpC,UAAU,uBAAuBwB,KAAK,SAASC,QAASM,UAGxE,wBAAQ/B,UAAU,sBAAsBwB,KAAK,SAASC,QAASO,OAEnE,yBAAShC,UAAU,WAAnB,SAEQiC,EAAMI,KAAI,SAAA5B,GAAI,OACd,cAAC,EAAD,CAEIA,KAAMA,EACNC,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GAJTH,EAAKQ,cCvBfqB,MAbf,YAAsD,IAAhC7B,EAA+B,EAA/BA,KAAM8B,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,QAEtC,OACI,sBAAKxC,UAAS,4BAAuBS,GAAQ,gBAAkBgB,QAASc,EAAxE,UACI,wBAAQvC,UAAU,kCAAkCwB,KAAK,SAASC,QAASe,IAC3E,sBAAKxC,UAAU,0CAAf,UACA,qBAAKA,UAAU,oCAAoCE,IAAKO,EAAOA,EAAKiB,KAAO,GAAItB,IAAKK,EAAOA,EAAKkB,KAAO,KACnG,oBAAI3B,UAAU,oCAAd,SAAmDS,EAAOA,EAAKkB,KAAO,Y,cC+EhFc,EAAM,I,WAvFV,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBAChCC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,kDAGlB,SAAeI,GACb,GAAIA,EAAIC,GACN,OAAOD,EAAIE,OAEX,MAAM,IAAIC,MAAJ,uCAA0CH,EAAII,W,yBAIxD,WACE,OAAOC,MAAMR,KAAKC,SAAW,YAAa,CACxCF,QAASC,KAAKE,WAEbO,KAAKT,KAAKU,kB,sBAGf,WACE,OAAOF,MAAMR,KAAKC,SAAW,SAAU,CACrCF,QAASC,KAAKE,WAEfO,KAAKT,KAAKU,kB,4BAGb,SAAeC,GACb,OAAOH,MAAMR,KAAKC,SAAW,YAAa,CACxCW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBhC,KAAM4B,EAAK5B,KACXS,MAAOmB,EAAKnB,UAGfiB,KAAKT,KAAKU,kB,yBAGb,SAAYC,GACV,OAAOH,MAAMR,KAAKC,SAAW,SAAU,CACrCW,OAAQ,OACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBhC,KAAM4B,EAAK5B,KACXD,KAAM6B,EAAK7B,SAGd2B,KAAKT,KAAKU,kB,wBAGb,SAAWM,GACT,OAAOR,MAAMR,KAAKC,SAAL,iBAA0Be,GAAU,CAC/CJ,OAAQ,SACRb,QAASC,KAAKE,WAEfO,KAAKT,KAAKU,kB,0BAGb,SAAanB,GACX,OAAOiB,MAAMR,KAAKC,SAAL,mBAAoC,CAC/CW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBxB,OAAQA,EAAOA,WAGlBkB,KAAKT,KAAKU,kB,kBAGb,SAAKM,GACH,OAAOR,MAAMR,KAAKC,SAAL,uBAAgCe,GAAU,CACrDJ,OAAQ,MACRb,QAASC,KAAKE,WAEfO,KAAKT,KAAKU,kB,wBAGb,SAAWM,GACT,OAAOR,MAAMR,KAAKC,SAAL,uBAAgCe,GAAU,CACrDJ,OAAQ,SACRb,QAASC,KAAKE,WAEbO,KAAKT,KAAKU,oB,KAIL,CAAQ,CAClBZ,QAAS,wCACTC,QAAU,CACRkB,cAAe,uCACf,eAAgB,sBC3ELC,MAff,YAAyH,IAAhGnC,EAA+F,EAA/FA,KAAMoC,EAAyF,EAAzFA,MAAyF,IAAlFC,mBAAkF,MAApE,yDAAoE,EAAvDC,EAAuD,EAAvDA,SAAU1B,EAA6C,EAA7CA,aAAcC,EAA+B,EAA/BA,QAAS0B,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SACxG,OACE,sBAAKnE,UAAS,sBAAiB2B,EAAjB,YAAyBsC,EAAW,eAAiB,IAAMG,YAAa7B,EAAtF,UACE,wBAAQf,KAAK,SAASxB,UAAU,eAAeyB,QAASe,IACxD,qBAAKxC,UAAU,mBAAf,SACE,uBAAMA,UAAU,cAAc2B,KAAK,MAAMwC,SAAUA,EAAnD,UACE,oBAAInE,UAAU,eAAd,SAA8B+D,IAC7BG,EACD,wBAAQ1C,KAAK,SAASxB,UAAU,gBAAhC,SAAiDgE,aCoC9CK,MAzCf,YAA6E,IAAjDJ,EAAgD,EAAhDA,SAAUzB,EAAsC,EAAtCA,QAASD,EAA6B,EAA7BA,aAAc+B,EAAe,EAAfA,aACzD,EAAwBhE,IAAMiE,SAAS,IAAvC,mBAAO5C,EAAP,KAAa6C,EAAb,KACA,EAAsClE,IAAMiE,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KACM7D,EAAcP,IAAMQ,WAAWT,GAwBrC,OAtBAC,IAAMqE,WAAU,WACZH,EAAQ3D,EAAYc,MACpB+C,EAAe7D,EAAYuB,SAC1B,CAACvB,IAoBF,eAAC,EAAD,CAAec,KAAK,UAAUoC,MAAM,4HAAwBI,SAV9D,SAAsBS,GACpBA,EAAEC,iBAEFP,EAAa,CACX3C,OACAS,MAAOqC,KAK2ER,SAAUA,EAAUzB,QAASA,EAASD,aAAcA,EAAxI,UACI,wBAAOvC,UAAU,oBAAjB,UACI,uBAAOwB,KAAK,OAAOsD,GAAG,OAAOC,MAAOpD,EAAMqD,SApBtD,SAA0BJ,GACtBJ,EAAQI,EAAEK,OAAOF,QAmB6DpD,KAAK,OAAOuD,YAAY,qBAAMlF,UAAU,sCAAsCmF,UAAQ,EAACC,UAAU,IAAIC,UAAU,OACrL,sBAAMP,GAAG,aAAa9E,UAAU,aAEpC,wBAAOA,UAAU,oBAAjB,UACI,uBAAOwB,KAAK,OAAOsD,GAAG,MAAMC,MAAON,EAAaO,SApB5D,SAAiCJ,GAC7BF,EAAeE,EAAEK,OAAOF,QAmBmEpD,KAAK,QAAQuD,YAAY,8FAAmBlF,UAAU,qCAAqCmF,UAAQ,EAACC,UAAU,IAAIC,UAAU,QAC/M,sBAAMP,GAAG,YAAY9E,UAAU,iBCfhCsF,MAtBf,YAA6E,IAAnD9C,EAAkD,EAAlDA,QAASyB,EAAyC,EAAzCA,SAAU1B,EAA+B,EAA/BA,aAAcgD,EAAiB,EAAjBA,eACnDC,EAAUlF,IAAMmF,SAWpB,OACA,cAAC,EAAD,CAAe9D,KAAK,SAASoC,MAAM,wFAAkBI,SAVrD,SAAsBS,GAClBA,EAAEC,iBAEFU,EAAe,CACbpD,OAAQqD,EAASE,QAAQX,QAE3BS,EAASE,QAAQX,MAAQ,IAIgDxC,aAAcA,EAAcC,QAASA,EAASyB,SAAUA,EAArI,SACI,wBAAOjE,UAAU,oBAAjB,UACI,uBAAO2F,IAAKH,EAAUhE,KAAK,MAAMsD,GAAG,SAASnD,KAAK,YAAYuD,YAAY,uCAASlF,UAAU,wCAAwCmF,UAAQ,IAC7I,sBAAML,GAAG,eAAe9E,UAAU,gBCa/B4F,MA7Bf,YAAwE,IAA/CrD,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,QAASyB,EAAuB,EAAvBA,SAAU4B,EAAa,EAAbA,WAChDC,EAAUxF,IAAMmF,SAChBM,EAAUzF,IAAMmF,SAatB,OACI,eAAC,EAAD,CAAe9D,KAAK,SAASoC,MAAM,gEAAcI,SAZrD,SAAsBS,GAClBA,EAAEC,iBAEFgB,EAAW,CACTlE,KAAMmE,EAAQJ,QAAQX,MACtBrD,KAAMqE,EAAQL,QAAQX,QAExBe,EAAQJ,QAAQX,MAAQ,GACxBgB,EAAQL,QAAQX,MAAQ,IAIiDxC,aAAcA,EAAcC,QAASA,EAASyB,SAAUA,EAAjI,UACI,wBAAOjE,UAAU,oBAAjB,UACI,uBAAO2F,IAAKG,EAAStE,KAAK,OAAOsD,GAAG,QAAQI,YAAY,mDAAWvD,KAAK,WAAW3B,UAAU,uCAAuCoF,UAAU,IAAIC,UAAU,KAAKF,UAAQ,IACzK,sBAAML,GAAG,cAAc9E,UAAU,aAErC,wBAAOA,UAAU,oBAAjB,UACI,uBAAO2F,IAAKI,EAASvE,KAAK,MAAMsD,GAAG,OAAOI,YAAY,uCAASvD,KAAK,UAAU3B,UAAU,qCAAqCmF,UAAQ,IACrI,sBAAML,GAAG,aAAa9E,UAAU,iBCiLjCgG,MAhMf,WAEI,MAAwD1F,IAAMiE,UAAS,GAAvE,mBAAO0B,EAAP,KAA6BC,EAA7B,KACA,EAAsD5F,IAAMiE,UAAS,GAArE,mBAAO4B,EAAP,KAA4BC,EAA5B,KACA,EAAsD9F,IAAMiE,UAAS,GAArE,mBAAO8B,EAAP,KAA4BC,EAA5B,KACA,EAAwChG,IAAMiE,SAAS,MAAvD,mBAAOgC,EAAP,KAAqBC,EAArB,KACA,EAAsClG,IAAMiE,SAAS,IAArD,mBAAO1D,EAAP,KAAoB4F,EAApB,KACA,EAA0BnG,IAAMiE,SAAS,IAAzC,mBAAOtC,EAAP,KAAcyE,EAAd,KAyEA,SAASC,IACLT,GAAwB,GACxBE,GAAuB,GACvBE,GAAuB,GACvBE,EAAgB,MAsBjB,SAASI,EAAiBC,GACrBA,EAAM5B,OAAO6B,UAAUC,SAAS,UAChCJ,IAgBR,OAlHArG,IAAMqE,WAAW,WACblC,EAAIuE,WACH3D,MAAK,SAAAE,GACFmD,EAASnD,MAEZ0D,OAAM,SAAAC,GACHC,QAAQC,MAAMF,QAEnB,IAsEH5G,IAAMqE,WAAU,WACZ,GAAIsB,GAAwBE,GAAuBE,GAAuBE,EAAc,CAEtF,SAASc,EAAUR,GACC,WAAdA,EAAMS,KACRX,IAMJ,OAFAY,SAASC,iBAAiB,UAAWH,GAE9B,WACLE,SAASE,oBAAoB,UAAWJ,OAG3C,CAACpB,EAAsBE,EAAqBE,EAAqBE,IAUpEjG,IAAMqE,WAAW,WACflC,EAAIiF,cACHrE,MAAK,SAAAE,GACFkD,EAAelD,MAElB0D,OAAM,SAAAC,GACHC,QAAQC,MAAMF,QAEnB,IAIH,cAAC,EAAmBS,SAApB,CAA6B5C,MAAOlE,EAApC,SACI,sBAAKb,UAAU,OAAf,UAEQ,cAAC,EAAD,IAEA,cAAC,EAAD,CACI8B,sBAAwB,kBACpBwE,GAAuB,IAE3BvE,uBAAyB,kBACrBmE,GAAwB,IAE5BlE,oBAAsB,kBAClBoE,GAAuB,IAE3B1F,YAtFhB,SAAyBD,GACrB+F,EAAgB/F,IAwFJwB,MAAOA,EAEPtB,WAhHhB,SAAwBF,GAEJA,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAGzDwB,EAAImF,WAAWnH,EAAKQ,KAAKoC,MAAK,SAACwE,GAC7BnB,GAAS,SAACoB,GAAD,OAAWA,EAAMzF,KAAI,SAAC0F,GAAD,OAAOA,EAAE9G,MAAQR,EAAKQ,IAAM4G,EAAUE,WAEtEtF,EAAIuF,KAAKvH,EAAKQ,KAAKoC,MAAK,SAACwE,GACvBnB,GAAS,SAACoB,GAAD,OAAWA,EAAMzF,KAAI,SAAC0F,GAAD,OAAOA,EAAE9G,MAAQR,EAAKQ,IAAM4G,EAAUE,YAyG5DnH,aApGhB,SAA0BgD,GACtBnB,EAAIwF,WAAWrE,GAAQP,MAAK,WACxBqD,GAAS,SAACoB,GAAD,OAAWA,EAAMI,QAAO,SAACH,GAAD,OAAOA,EAAE9G,MAAQ2C,cAoG9C,cAAC,EAAD,IAEA,cAAC,EAAD,CACIK,SAAUgC,EACVzD,QAASmE,EACTpE,aAAcqE,EACdtC,aAhGhB,SAA0Bf,GACtBd,EAAI0F,eAAe5E,GAClBF,MAAK,SAACN,GACH0D,EAAe1D,GACf4D,OAEHM,OAAM,SAAAC,GACHC,QAAQC,MAAMF,SA4FV,cAAC,EAAD,CACIjD,SAAUoC,EACV7D,QAASmE,EACTpE,aAAcqE,EACdrB,eA3FhB,SAA4BpD,GACxBM,EAAI2F,aAAajG,GAChBkB,MAAK,SAAAN,GACF0D,EAAe1D,GACf4D,UA0FI,cAAC,EAAD,CACIpE,aAAcqE,EACdpE,QAASmE,EACT1C,SAAUkC,EACVN,WApJhB,SAA8BtC,GAC1Bd,EAAI4F,YAAY9E,GACfF,MAAK,SAAAwE,GACFnB,EAAS,CAACmB,GAAF,mBAAc5F,KACtB0E,OAEHM,OAAM,SAAAC,GACHC,QAAQC,MAAMF,SAgJV,cAAC,EAAD,CACIzG,KAAM8F,EACNhE,aAAcqE,EACdpE,QAASmE,IAGb,sBAAK3G,UAAU,qBAAf,UACI,wBAAQA,UAAU,mCAAmCwB,KAAK,WAC1D,sBAAKxB,UAAU,2CAAf,UACI,oBAAIA,UAAU,eAAd,sEACA,sBAAMA,UAAU,cAAe2B,KAAK,SAApC,SACI,wBAAQH,KAAK,SAASxB,UAAU,yDAAhC,wCCtLbsI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnF,MAAK,YAAkD,IAA/CoF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzB,SAAS0B,eAAe,SAM1BX,M","file":"static/js/main.235f8d6c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/header_logo.03b78ada.svg\";","import React from 'react';\r\nimport logo from '../images/header_logo.svg';\r\n\r\nfunction Header() {\r\n    return(\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Лого\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nconst currentUserContext = React.createContext();\r\nexport default currentUserContext;","import React from \"react\";\r\nimport currentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n    const currentUser = React.useContext(currentUserContext);\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\nconst isOwn = card.owner._id === currentUser._id;\r\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\r\nconst cardDeleteButtonClassName = (\r\n  `element__delete ${isOwn ? 'element__delete' : 'element__delete_hidden'}`\r\n);\r\n\r\n// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\nconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\r\nconst cardLikeButtonClassName = ( \r\n    `element__like ${isLiked ? 'element__like_active' : 'element__like'}`\r\n    );\r\n\r\n    //Обработчик клика по карточке\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      } \r\n\r\n    function handleLikeClick(){\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card._id);\r\n    }\r\n\r\n    return (\r\n        <div className=\"element\">\r\n            <button className={cardDeleteButtonClassName}type=\"button\" onClick={handleDeleteClick}></button>\r\n            <img className=\"element__image\" src={card.link} alt={card.name} onClick={handleClick}/>\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__title\">{card.name}</h2>\r\n                    <div className=\"element__like-box\">\r\n                        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                        <p className=\"element__like-count\">{card.likes.length}</p>\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport CurrentUserContext  from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\n\r\n\r\nfunction Main({ \r\n    handleEditAvatarClick, \r\n    handleEditProfileClick, \r\n    handleAddPlaceClick, \r\n    onCardClick, \r\n    cards, \r\n    onCardLike, \r\n    onCardDelete \r\n}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return(\r\n    <>\r\n        <section className=\"profile\">\r\n            <div className=\"profile__content\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\r\n                    <button className=\"profile__avatar-edit\" onClick={handleEditAvatarClick}></button>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__text\">\r\n                        <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    </div>\r\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={handleEditProfileClick}></button>\r\n                </div>\r\n            </div>\r\n            <button className=\"profile__add-button\" type=\"button\" onClick={handleAddPlaceClick}></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n            {\r\n                cards.map(card => \r\n                <Card \r\n                    key={card._id} \r\n                    card={card} \r\n                    onCardClick={onCardClick} \r\n                    onCardLike={onCardLike} \r\n                    onCardDelete={onCardDelete} \r\n                />)\r\n            }\r\n        </section>\r\n    </>  \r\n    );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onPopupClick, onClose }) {\r\n\r\n    return (\r\n        <div className={`popup popup_image ${card && \"popup_opened\"}`} onClick={onPopupClick}>\r\n            <button className=\"popup__close popup__close_image\" type=\"button\" onClick={onClose}></button>\r\n            <div className=\"popup__container popup__container_image\">\r\n            <img className=\"popup__viewer popup__viewer_image\" src={card ? card.link : ''} alt={card ? card.name : ''} />\r\n                <h2 className=\"popup__viewer popup__viewer_title\">{card ? card.name : ''}</h2>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok){\n      return res.json();\n    } else {\n      throw new Error(`Response is not OK with code ${res.status}`);\n    }\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  updateUserInfo(data) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    })\n    .then(this._checkResponse);\n  }\n\n  updateCards(data) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    })\n    .then(this._checkResponse);\n  }\n\n  removeCard(cardId) {\n    return fetch(this._baseUrl + `/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  updateAvatar(avatar) {\n    return fetch(this._baseUrl + `/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar.avatar,\n      }),\n    })\n    .then(this._checkResponse);\n  }\n\n  like(cardId) {\n    return fetch(this._baseUrl + `/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  likeDelete(cardId) {\n    return fetch(this._baseUrl + `/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://nomoreparties.co/v1/cohort-28\",\n  headers : {\n    authorization: \"8999a51c-1ed0-4ed4-a807-902250d23524\",\n    \"Content-Type\": \"application/json\",\n  }\n}\n);\n\nexport { api };\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({ name, title, buttonTitle = 'Сохранить', isOpened, onPopupClick, onClose, children, onSubmit }) {\r\n    return (\r\n      <div className={`popup popup_${name} ${isOpened ? 'popup_opened' : ''}`} onMouseDown={onPopupClick}>\r\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n        <div className=\"popup__container\">\r\n          <form className=\"popup__form\" name=\"???\" onSubmit={onSubmit}>\r\n            <h2 className=\"popup__title\">{title}</h2>\r\n            {children}\r\n            <button type=\"submit\" className=\"popup__submit\">{buttonTitle}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default PopupWithForm;","import React  from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport currentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\n\r\nfunction EditProfilePopup({ isOpened, onClose, onPopupClick, onUpdateUser}) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(currentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser]); \r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n      }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" onSubmit={handleSubmit} isOpened={isOpened} onClose={onClose} onPopupClick={onPopupClick}>\r\n            <label className=\"popup__form-field\">\r\n                <input type=\"text\" id=\"name\" value={name} onChange={handleChangeName} name=\"name\" placeholder=\"Имя\" className=\"popup__input popup__input_text_name\" required minLength=\"2\" maxLength=\"40\" />\r\n                <span id=\"name-error\" className=\"error\"></span>\r\n            </label> \r\n            <label className=\"popup__form-field\">   \r\n                <input type=\"text\" id=\"job\" value={description} onChange={handleChangeDescription} name=\"about\" placeholder=\"Вид деятельности\" className=\"popup__input popup__input_text_job\" required minLength=\"2\" maxLength=\"200\" />\r\n                <span id=\"job-error\" className=\"error\"></span>\r\n            </label> \r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({onClose, isOpened, onPopupClick, onUpdateAvatar}) {\r\n  const inputRef= React.useRef()\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        onUpdateAvatar({\r\n          avatar: inputRef.current.value,\r\n        });\r\n        inputRef.current.value = ''\r\n      }\r\n\r\n    return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" onSubmit={handleSubmit} onPopupClick={onPopupClick} onClose={onClose} isOpened={isOpened}>\r\n        <label className=\"popup__form-field\">   \r\n            <input ref={inputRef} type=\"url\" id=\"avatar\" name=\"avatarUrl\" placeholder=\"Ссылка\" className=\"popup__input popup__input_text_avatar\" required /> \r\n            <span id=\"avatar-error\" className=\"error\"></span>\r\n        </label>\r\n    </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onPopupClick, onClose, isOpened, onAddPlace }){\r\n    const nameRef = React.useRef();\r\n    const linkRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        onAddPlace({\r\n          name: nameRef.current.value,\r\n          link: linkRef.current.value,\r\n        });\r\n        nameRef.current.value = '';\r\n        linkRef.current.value = '';\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm name=\"create\" title=\"Новое Место\" onSubmit={handleSubmit} onPopupClick={onPopupClick} onClose={onClose} isOpened={isOpened}>\r\n            <label className=\"popup__form-field\">\r\n                <input ref={nameRef} type=\"text\" id=\"place\" placeholder=\"Название\" name=\"cardName\" className=\"popup__input popup__input_text_place\" minLength=\"2\" maxLength=\"30\" required />\r\n                <span id=\"place-error\" className=\"error\"></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input ref={linkRef} type=\"url\" id=\"link\" placeholder=\"Ссылка\" name=\"cardUrl\" className=\"popup__input popup__input_text_url\" required />\r\n                <span id=\"link-error\" className=\"error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport ImagePopup from \"./ImagePopup\";\nimport { api } from \"../utils/Api\";\nimport currentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n    //Стейты состояния модалок, инфы о пользователе и карточек\n    const [isProfilePopupOpened, setIsProfilePopupOpened] = React.useState(false);\n    const [isCreatePopupOpened, setIsCreatePopupOpened] = React.useState(false);\n    const [isAvatarPopupOpened, setIsAvatarPopupOpened] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState('');\n    const [cards, setCards] = React.useState([]);\n\n    //Хук запроса к АПИ за изначальными картинками\n    React.useEffect( () => {\n        api.getCards()\n        .then(data => {\n            setCards(data)\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    }, []);\n\n    //Сабмит карточки нового места\n    function handleAddPlaceSubmit(data){\n        api.updateCards(data)\n        .then(newCard => {\n            setCards([newCard, ...cards]);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.error(err);\n        })\n    }\n\n    //Клик по лайку\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        isLiked \n        ? api.likeDelete(card._id).then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        : api.like(card._id).then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        });\n    }\n\n    //Удаление карточки\n    function handleCardDelete(cardId) {\n        api.removeCard(cardId).then(() => {\n            setCards((state) => state.filter((c) => c._id !== cardId));\n        });\n    }\n\n    //Открываем превью карточки\n    function handleCardClick(card){\n        setSelectedCard(card)\n    }\n\n    //Запрос к АПИ на обновление инфы о пользователе\n    function handleUpdateUser(data){\n        api.updateUserInfo(data)\n        .then((res) => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.error(err);\n        })\n    }\n\n    //Запрос к АПИ на обновление аватара\n    function handleUpdateAvatar(avatar){\n        api.updateAvatar(avatar)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n    }\n\n    //Функционал закрытия модалок на ESC\n    function closeAllPopups() {\n        setIsProfilePopupOpened(false);\n        setIsCreatePopupOpened(false);\n        setIsAvatarPopupOpened(false);\n        setSelectedCard(null);\n    }\n\n    //Закрытие модалки на ESC\n    React.useEffect(() => {\n        if (isProfilePopupOpened || isCreatePopupOpened || isAvatarPopupOpened || selectedCard) {\n    \n          function handleEsc(event) {\n            if (event.key === 'Escape') {\n              closeAllPopups()\n            }\n          }\n    \n          document.addEventListener(\"keydown\", handleEsc)\n    \n          return () => {\n            document.removeEventListener(\"keydown\", handleEsc)\n          }\n        }\n      }, [isProfilePopupOpened, isCreatePopupOpened, isAvatarPopupOpened, selectedCard])\n\n       //Закрытие модалки кликом на оверлей \n       function handlePopupClick(event) {\n        if (event.target.classList.contains(\"popup\")) { \n            closeAllPopups()\n          } \n        } \n\n      //Эффект добавление изначальной информации о пользователе\n      React.useEffect( () => {\n        api.getUserInfo()\n        .then(data =>{\n            setCurrentUser(data);\n        })\n        .catch(err => {\n            console.error(err);\n        })\n    }, [])\n\n    //Отрисовка приложения\n    return (\n    <currentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n           \n                <Header />\n\n                <Main \n                    handleEditAvatarClick={ () =>\n                        setIsAvatarPopupOpened(true)\n                    }\n                    handleEditProfileClick={ () =>\n                        setIsProfilePopupOpened(true)\n                    }\n                    handleAddPlaceClick={ () =>\n                        setIsCreatePopupOpened(true)\n                    }\n                    onCardClick={ \n                        handleCardClick}\n                    \n                    cards={cards}\n\n                    onCardLike={handleCardLike}\n\n                    onCardDelete={handleCardDelete}\n                />\n                <Footer />\n\n                <EditProfilePopup \n                    isOpened={isProfilePopupOpened} \n                    onClose={closeAllPopups} \n                    onPopupClick={handlePopupClick}\n                    onUpdateUser={handleUpdateUser}\n                /> \n\n                <EditAvatarPopup \n                    isOpened={isAvatarPopupOpened} \n                    onClose={closeAllPopups} \n                    onPopupClick={handlePopupClick}\n                    onUpdateAvatar={handleUpdateAvatar}\n                />\n\n                <AddPlacePopup \n                    onPopupClick={handlePopupClick} \n                    onClose={closeAllPopups} \n                    isOpened={isCreatePopupOpened}\n                    onAddPlace={handleAddPlaceSubmit}\n                />\n\n                <ImagePopup \n                    card={selectedCard} \n                    onPopupClick={handlePopupClick} \n                    onClose={closeAllPopups} \n                />\n            \n                <div className=\"popup popup_delete\">\n                    <button className=\"popup__close popup__close_delete\" type=\"button\"></button>\n                    <div className=\"popup__container popup__container_delete\">\n                        <h2 className=\"popup__title\">Вы уверены?</h2>\n                        <form className=\"popup__form\"  name=\"delete\">\n                            <button type=\"submit\" className=\"popup__submit popup__submit_delete popup__submit_valid\">Да</button>\n                        </form> \n                    </div>\n                </div>\n        </div>\n    </currentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}